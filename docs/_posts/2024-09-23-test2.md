---
layout: post
title: "要件定義における「自然状態」と「自然要件」"
date: 2024-09-23 10:43:10 -0000
categories: アーキテクト
---

## 背景

ジョン・ロックの「統治二論」の第二論は、「自然状態」における権利を定義することで、「自然状態に欠けている権利を社会的に維持するために、一部権利を信頼できる人々に委譲することが統治である」とした（Wikipediaからの自己解釈）

本稿はその考え方に着想を得て、**システム開発における「自然状態」「自然要件」を定義する**ことで、システム開発時に要件定義フェーズが遅れても、クソシステムを作らないことの一助となることを目指す

>[クソシステム例](.#information)
>
> - バックアップ機能はあるがリストア機能がない
> - 組織再編で組織名が変わると過去の操作履歴を引き継がない
> - 商品の検索には商品コード必要なため、商品と商品コードの対応表をオフラインで作っておく必要のあるシステム
> - セッションタイムアウトで入力フォームの値をお釈迦にする
{: .information}

これは、「自然要件を満たしていれば、顧客の要件が何であろうと、クソシステムはできないはず」という仮定に立っている

## 目的

顧客、ベンダの要件定義の責任分界点を明確にし、「要件定義フェーズが遅れたためクソシステムになってしまった」というベンダの言い訳を無くす。
クソシステムにならないための自然要件を満たすのはベンダの責任である。
ただし、ベンダに責任を押し付けることが目的ではなく、**本来ベンダの責任でやるべきことを明確にすること**が目的である。
「顧客はIT素人」などを言い訳にするベンダを指す。システム開発を委託する顧客は常に素人である。素人であることを理由にプロフェッショナルとしての仕事ができないのであれば、その者はプロフェッショナルではない。

本稿の目的は「自然要件の定義」までに留め、OSやミドルを実際に設計することまでは踏み込まないが、本稿で議論するところの究極的なゴールは、そのようなOS／ミドルができることである。

## 用語

顧客
: 要望を出す人

- ユーザ：システムを使う人
- ベンダ：システムを開発する人
- 顧客要件：顧客が出す要件
- 自然状態：顧客要件が何もない状態でも、システムが正常に動いている状態
- 自然要件：自然状態を維持するために必要な要件

## 自然状態とは

顧客要件が何もない状態でも、システムが正常に稼働し続けている状態。

顧客要件が何もない状態とは、システムが存在しない状態ではない。

ロックが提唱した自然状態でも人間は存在しているし、「自然権」は存在しているとしている。本稿は自然状態を満たすOSを作るという話ではないため、スタート地点としては既存のLinux OSがインストールされたマシンがただ置かれていることを想像するとよい。
この状態では何のネットワークにも接続しておらず、何の外部デバイスも接続されていない。
ストレージ等の内部デバイスはあるものとする。
**接続はされていないが、接続すればそれらを認識し、最低限動かすことができる状態**を想定する。

Linux OSでは`vi`等のテキストエディタが標準でインストールされているかもしれない。テキストエディタがインストールされていることが自然要件に必要かどうかは現時点では言及しないが、テキストエディタがインストールされていること自体が、**他の明示的な自然要件を妨害するものでなければ、不要なものがインストールされていることは自然状態を否定するものではないと定義する**

## 自然要件

自然状態を維持するために必要な要件。
顧客要件に依存せず、ベンダが自身の判断で定める要件。

### 自然要件とは何でないか

「何でもできるようにしておき、顧客に判断を任せる」はNG。
Linux OSは開発すれば何でもできる。だから全ての要件は顧客要件である、とする考え方は本稿の目指すところではない。そのような考え方は害悪である

## 非機能要件との違い

## 保守
- 監視
- 遠隔アクセス
- ログ

### 可用性

- 分散拠点には標準で対応できるべき
- アプリケーションレベルでどこまで保証するかは個別要件

## データ保護

RAIDやアーカイブ、どこまでを自然要件とするか
